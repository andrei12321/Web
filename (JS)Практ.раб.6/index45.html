<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
	</head>
	<body>
		<script>
			function checkAge(age)
			{
				if (age > 18)
					checkPermission(true);
				else
					checkPermission(confirm('Родители разрешили?'));
			}
			function checkPermission(bool)
			{
				if (bool == true)
					alert('Доступ разрешен.');
				else
					alert('В доступе отказано.');
			}
			while(true)
			{
				var age = prompt('Ваш возраст?').replace(/,/g, '.');
				if (/^\d*[.]?\d*$/.test(age))
					break;
				else
					alert('Некорректное значение! Допускаются только положительные числа.');
			}
			checkAge(age);
		</script>
	</body>
</html>